version: '3.8'

services:
  # FastAPI Application
  raahi-assistant:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: raahi-assistant
    ports:
      - "8000:8000"
    environment:
      # Google Cloud
      - GCP_PROJECT_ID=cabswale-ai
      - GCP_LOCATION=asia-south1

      # Vertex AI / Gemini
      - GEMINI_MODEL=gemini-2.5-flash

      # TTS - Chirp 3 HD (Aoede voice)
      - TTS_VOICE_NAME=hi-IN-Chirp3-HD-Aoede
      - TTS_LANGUAGE_CODE=hi-IN

      # API
      - API_HOST=0.0.0.0
      - API_PORT=8000
    volumes:
      # Mount Google Cloud credentials if using service account
      - ${GOOGLE_APPLICATION_CREDENTIALS:-./credentials.json}:/app/credentials.json:ro
    env_file:
      - .env
    restart: unless-stopped
